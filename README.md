# å¤©æ°—äºˆå ±ã‚³ãƒ¡ãƒ³ãƒˆç”Ÿæˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

LangGraphã¨LLMã‚’æ´»ç”¨ã—ãŸå¤©æ°—ã‚³ãƒ¡ãƒ³ãƒˆè‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

## ğŸŒŸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€Python/Streamlitãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨Vue.js/TypeScriptãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰æ§‹æˆã•ã‚Œã‚‹å¤©æ°—äºˆå ±ã‚³ãƒ¡ãƒ³ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚æŒ‡å®šã—ãŸå„åœ°ç‚¹ã®å¤©æ°—äºˆå ±ãƒ‡ãƒ¼ã‚¿ã¨éå»ã®ã‚³ãƒ¡ãƒ³ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ã‚‚ã¨ã«ã€LLMï¼ˆå¤§è¦æ¨¡è¨€èªãƒ¢ãƒ‡ãƒ«ï¼‰ã‚’æ´»ç”¨ã—ã¦çŸ­ã„å¤©æ°—ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆç´„15æ–‡å­—ï¼‰ã‚’è‡ªå‹•ç”Ÿæˆã—ã¾ã™ã€‚

### ä¸»ãªç‰¹å¾´
- **LangGraphãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**: çŠ¶æ…‹é·ç§»ã¨å†è©¦è¡Œãƒ­ã‚¸ãƒƒã‚¯ã‚’ç°¡æ½”ã«è¨˜è¿°
- **ãƒãƒ«ãƒLLMãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼**: OpenAI/Gemini/Anthropic Claudeå¯¾å¿œ
- **é¡ä¼¼åº¦ãƒ™ãƒ¼ã‚¹é¸æŠ**: éå»ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰æœ€é©ãªãƒšã‚¢ã‚’é¸å®š
- **è¡¨ç¾ãƒ«ãƒ¼ãƒ«é©ç”¨**: NGãƒ¯ãƒ¼ãƒ‰ãƒ»æ–‡å­—æ•°åˆ¶é™ã®è‡ªå‹•ãƒã‚§ãƒƒã‚¯
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ UI**: Streamlit/Vue.jsã«ã‚ˆã‚‹ç›´æ„Ÿçš„ãªæ“ä½œ

## ğŸ“‹ ç¾åœ¨ã®é€²æ—çŠ¶æ³ï¼ˆ2025/6/7æ™‚ç‚¹ï¼‰

### âœ… Phase 1: åŸºç›¤æ©Ÿèƒ½ï¼ˆ100%å®Œäº†ï¼‰
- [x] **åœ°ç‚¹ãƒ‡ãƒ¼ã‚¿ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ **: CSVèª­ã¿è¾¼ã¿ãƒ»æ¤œç´¢ãƒ»æ­£è¦åŒ–æ©Ÿèƒ½
- [x] **å¤©æ°—äºˆå ±çµ±åˆæ©Ÿèƒ½**: WxTech APIçµ±åˆ
- [x] **S3éå»ã‚³ãƒ¡ãƒ³ãƒˆå–å¾—**: JSONLè§£æãƒ»é¡ä¼¼æ¤œç´¢
- [x] **LLMçµ±åˆ**: ãƒãƒ«ãƒãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å¯¾å¿œ

### ğŸš§ Phase 2: LangGraphãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆ70%å®Œäº†ï¼‰
- [x] **SelectCommentPairNode**: ã‚³ã‚µã‚¤ãƒ³é¡ä¼¼åº¦ã«ã‚ˆã‚‹é¸æŠ
- [x] **EvaluateCandidateNode**: 8ã¤ã®è©•ä¾¡åŸºæº–ã«ã‚ˆã‚‹æ¤œè¨¼
- [x] **åŸºæœ¬ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**: ãƒ¢ãƒƒã‚¯ãƒãƒ¼ãƒ‰ä½¿ç”¨ã®éª¨æ ¼å®Ÿè£…
- [ ] **InputNode/OutputNode**: æœ¬å®Ÿè£…ï¼ˆç¾åœ¨ãƒ¢ãƒƒã‚¯ï¼‰

### ğŸ“± Phase 3: UIå®Ÿè£…ï¼ˆ100%å®Œäº†ï¼‰
- [x] **Streamlit UI**: Web UIã®å®Ÿè£…
- [x] **Vue.js/TypeScript**: ãƒ¢ãƒ€ãƒ³ãªãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰

### ğŸš€ Phase 4: ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆï¼ˆ0%å®Œäº†ï¼‰
- [ ] **AWSãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ**: Lambda/ECSãƒ»CloudWatchçµ±åˆ

## ğŸ”„ ã‚·ã‚¹ãƒ†ãƒ ã®ä¸»ãªå‡¦ç†ãƒ•ãƒ­ãƒ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ InputNode    â”‚â”€â”€â–¶â”€â”€â”‚ FetchForecastNode â”‚â”€â”€â–¶â”€â”€â”‚ RetrievePastCommentsNode â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                           â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚ SelectCommentPair â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  Failure  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚ EvaluateCandidateâ”‚ â”€â”€â”€â”€â”€â”€â”€â”€â–¶ â”‚ SelectCommentPair â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ Success              (ãƒªãƒˆãƒ©ã‚¤ãƒ«ãƒ¼ãƒ—)
                              â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚ GenerateComment   â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                     â”‚ OutputNode       â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
- **Python 3.10+**
- **LangGraph**: ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ç®¡ç†
- **Streamlit**: Web UI
- **boto3**: AWS S3é€£æº
- **requests/aiohttp**: APIé€šä¿¡

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- **Vue.js 3/Nuxt 3**
- **TypeScript**
- **Composition API**
- **Scoped CSS**

### LLMãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
- **OpenAI API**
- **Google Gemini API**
- **Anthropic Claude API**

### ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹
- **Weathernews WxTech API**: 12h/24häºˆå ±
- **S3ãƒã‚±ãƒƒãƒˆ**: éå»ã‚³ãƒ¡ãƒ³ãƒˆJSONL
- **åœ°ç‚¹ãƒªã‚¹ãƒˆCSV**: Chiten.csv

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶
- Python 3.10ä»¥ä¸Š
- Node.js 18ä»¥ä¸Š
- AWS CLIï¼ˆS3é€£æºç”¨ï¼‰
- å„ç¨®APIã‚­ãƒ¼

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
# ä»®æƒ³ç’°å¢ƒä½œæˆ
python -m venv .venv
source .venv/bin/activate

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# ç’°å¢ƒå¤‰æ•°è¨­å®š
cp .env.example .env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦APIã‚­ãƒ¼ã‚’è¨­å®š

# Streamlitèµ·å‹•
streamlit run app.py
```

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
cd src/tool_design
npm install
npm run dev
```

## ğŸ“Š ä¸»è¦æ©Ÿèƒ½

### 1. åœ°ç‚¹ç®¡ç†
```python
from src.data.location_manager import LocationManager

manager = LocationManager("Chiten.csv")
results = manager.search_location("æ±äº¬", fuzzy=True)
```

### 2. å¤©æ°—äºˆå ±å–å¾—
```python
from src.apis.wxtech_client import WxTechAPIClient

client = WxTechAPIClient(api_key)
forecast = client.get_forecast(35.6762, 139.6503)
```

### 3. éå»ã‚³ãƒ¡ãƒ³ãƒˆæ¤œç´¢
```python
from src.repositories.s3_comment_repository import S3CommentRepository

repo = S3CommentRepository()
comments = repo.search_similar_comments(
    target_weather_condition="æ™´ã‚Œ",
    target_temperature=25.0,
    target_location="æ±äº¬"
)
```

### 4. ã‚³ãƒ¡ãƒ³ãƒˆç”Ÿæˆ
```python
from src.workflows.comment_generation_workflow import run_comment_generation

result = run_comment_generation(
    location_name="æ±äº¬",
    llm_provider="openai"
)
print(result['final_comment'])
```

## ğŸ§ª ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

```bash
# å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest

# ã‚«ãƒãƒ¬ãƒƒã‚¸ä»˜ããƒ†ã‚¹ãƒˆ
pytest --cov=src --cov-report=html

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
pytest tests/test_location_manager.py
```

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
.
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ data/              # ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹ãƒ»ç®¡ç†
â”‚   â”œâ”€â”€ apis/              # å¤–éƒ¨APIé€£æº
â”‚   â”œâ”€â”€ repositories/      # ãƒ‡ãƒ¼ã‚¿ãƒªãƒã‚¸ãƒˆãƒª
â”‚   â”œâ”€â”€ nodes/             # LangGraphãƒãƒ¼ãƒ‰
â”‚   â”œâ”€â”€ workflows/         # ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®šç¾©
â”‚   â”œâ”€â”€ llm/               # LLMçµ±åˆ
â”‚   â”œâ”€â”€ ui/                # Streamlit UI
â”‚   â””â”€â”€ config/            # è¨­å®šç®¡ç†
â”œâ”€â”€ tests/                 # ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ
â”œâ”€â”€ docs/                  # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ examples/              # ä½¿ç”¨ä¾‹
â””â”€â”€ src/tool_design/       # Vue.jsãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
```

## ğŸ”¥ å„ªå…ˆå®Ÿè£…äº‹é …

### å³æ™‚å¯¾å¿œï¼ˆä»Šé€±ä¸­ï¼‰
1. SelectCommentPair/EvaluateCandidateNodeçµ±åˆ
2. InputNode/OutputNodeæœ¬å®Ÿè£…
3. ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰çµ±åˆãƒ†ã‚¹ãƒˆ

### çŸ­æœŸå¯¾å¿œï¼ˆæ¥é€±ï¼‰
1. è¡¨ç¾ãƒ«ãƒ¼ãƒ«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«åŒ–
2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å¼·åŒ–

### ä¸­æœŸå¯¾å¿œï¼ˆä»Šæœˆä¸­ï¼‰
1. AWS Lambda/ECSãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆ
2. CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰
3. ç›£è¦–ãƒ»ãƒ­ã‚°è¨­å®š

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

1. Issueã®ç¢ºèªã¨é¸æŠ
2. ãƒ–ãƒ©ãƒ³ãƒä½œæˆ: `feature/issue-{number}-{description}`
3. ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆTDDæ¨å¥¨ï¼‰
4. PRä½œæˆã¨ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼

è©³ç´°ã¯[CONTRIBUTING.md](CONTRIBUTING.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ“ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## ğŸ‘¥ é–‹ç™ºãƒãƒ¼ãƒ 

- **Project Lead**: @sakamo-wni
- **Contributors**: @ah925

---

**Last Updated**: 2025/06/07  
**Status**: Active Development
